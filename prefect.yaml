name: zepto-project

deployments:
  - name: zepto-test
    entrypoint: flow_zepto.py:run_batch

    pull:
      - prefect.deployments.steps.git_clone:
          id: clone-step
          repository: https://github.com/rootski1729/scraper.git
          branch: main

      - prefect.deployments.steps.set_working_directory:
          directory: "{{ clone-step.directory }}"

      - prefect.deployments.steps.pip_install_requirements:
          requirements_file: requirements.txt

    work_pool:
      name: test-managed

    parameters:
      products: []
      chunk_size: 1000
